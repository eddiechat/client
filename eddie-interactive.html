<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eddie ‚Äî Interactive Prototype</title>
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --chat:    #FF5A5F;
  --group:   #FF9F1C;
  --lane:    #2EC4B6;
  --inspo:   #9B72CF;
  --bg:      #F7F5F2;
  --surface: #FFFFFF;
  --text:    #18181B;
  --sub:     #71717A;
  --border:  rgba(0,0,0,0.07);
  --r:       14px;
  --shadow:  0 2px 12px rgba(0,0,0,0.08);
}

body {
  font-family: 'Raleway', sans-serif;
  background: radial-gradient(ellipse at 20% 20%, #FFE8E8 0%, transparent 50%),
              radial-gradient(ellipse at 80% 80%, #E8F4FF 0%, transparent 50%),
              radial-gradient(ellipse at 50% 50%, #F0EBFF 0%, transparent 70%),
              #F4F2EF;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 20px;
  gap: 20px;
}

.phone-shell {
  width: 300px;
  height: 640px;
  background: #111;
  border-radius: 44px;
  padding: 10px;
  box-shadow:
    0 0 0 1px #2a2a2a,
    0 40px 100px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.05);
  position: relative;
  flex-shrink: 0;
}

.phone-screen {
  width: 100%;
  height: 100%;
  border-radius: 36px;
  background: var(--bg);
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
}

.di {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 88px;
  height: 26px;
  background: #111;
  border-radius: 14px;
  z-index: 100;
}

.sbar {
  height: 40px;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 0 18px 6px;
  font-size: 10px;
  font-weight: 700;
  color: var(--text);
  flex-shrink: 0;
  letter-spacing: 0.3px;
}

.view {
  display: none;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
  animation: slideIn 0.22s cubic-bezier(.4,0,.2,1);
}
.view.active { display: flex; }

@keyframes slideIn {
  from { opacity: 0; transform: translateX(18px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes slideBack {
  from { opacity: 0; transform: translateX(-18px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}
.slide-back { animation: slideBack 0.22s cubic-bezier(.4,0,.2,1) !important; }

.pg-header {
  padding: 4px 16px 8px;
  flex-shrink: 0;
}
.pg-title {
  font-size: 22px;
  font-weight: 900;
  color: var(--text);
  letter-spacing: -0.5px;
}
.pg-sub {
  font-size: 10px;
  font-weight: 600;
  color: var(--sub);
  margin-top: 1px;
}

.back-btn {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 11px;
  font-weight: 700;
  color: var(--sub);
  cursor: pointer;
  padding: 2px 0 6px;
}
.back-btn:hover { color: var(--text); }

.toggle-row {
  display: flex;
  gap: 3px;
  background: #ECEAE7;
  border-radius: 10px;
  padding: 3px;
  margin: 0 16px 8px;
  flex-shrink: 0;
}
.tgl {
  flex: 1;
  height: 26px;
  border: none;
  border-radius: 8px;
  background: transparent;
  font-family: 'Raleway', sans-serif;
  font-size: 11px;
  font-weight: 800;
  color: var(--sub);
  cursor: pointer;
  transition: all 0.18s;
}
.tgl.on {
  background: white;
  color: var(--chat);
  box-shadow: 0 1px 6px rgba(255,90,95,0.18);
}

.scroll {
  flex: 1;
  overflow-y: auto;
  padding: 0 10px;
  display: flex;
  flex-direction: column;
  gap: 5px;
  scrollbar-width: none;
}
.scroll::-webkit-scrollbar { display: none; }

.row {
  background: white;
  border-radius: var(--r);
  padding: 10px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: transform 0.12s, box-shadow 0.12s;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  position: relative;
  flex-shrink: 0;
}
.row:active { transform: scale(0.98); }
.row:hover  { box-shadow: 0 4px 16px rgba(0,0,0,0.1); transform: translateY(-1px); }
.row.highlight { border-color: rgba(255,90,95,0.35); box-shadow: 0 0 0 2px rgba(255,90,95,0.12), var(--shadow); }
.row.highlight-g { border-color: rgba(255,159,28,0.4); box-shadow: 0 0 0 2px rgba(255,159,28,0.15), var(--shadow); }

.av {
  width: 38px;
  height: 38px;
  border-radius: 11px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 800;
  color: white;
  flex-shrink: 0;
  letter-spacing: -0.5px;
}
.av-sm { width: 30px; height: 30px; border-radius: 9px; font-size: 11px; }
.av-r  { background: linear-gradient(135deg,#FF5A5F,#FF8A65); }
.av-b  { background: linear-gradient(135deg,#4A90E2,#50C9F5); }
.av-g  { background: linear-gradient(135deg,#43B89C,#56D9BE); }
.av-p  { background: linear-gradient(135deg,#9B72CF,#C387E8); }
.av-o  { background: linear-gradient(135deg,#FF9F1C,#FFB74D); }
.av-t  { background: linear-gradient(135deg,#2EC4B6,#4DD0E1); }
.av-k  { background: linear-gradient(135deg,#FF6584,#FF8FA3); }
.av-dk { background: linear-gradient(135deg,#6D28D9,#7C3AED); }

.av-grid {
  width: 38px;
  height: 38px;
  border-radius: 11px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5px;
  overflow: hidden;
  flex-shrink: 0;
}
.agc {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 8px;
  font-weight: 800;
  color: white;
}

.row-info { flex: 1; min-width: 0; }
.row-name {
  font-size: 12px;
  font-weight: 800;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: -0.2px;
}
.row-prev {
  font-size: 10px;
  font-weight: 500;
  color: var(--sub);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 1px;
}
.row-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 3px;
  flex-shrink: 0;
}
.row-time { font-size: 9px; font-weight: 600; color: var(--sub); }

.bdg {
  min-width: 16px;
  height: 16px;
  border-radius: 8px;
  background: var(--chat);
  color: white;
  font-size: 9px;
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}
.bdg-g { background: var(--group); }
.bdg-l { background: var(--lane); }
.bdg-m { background: #D4D4D8; color: #71717A; }

.chip {
  font-size: 9px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 6px;
}
.chip-w { background: #FFF3CD; color: #B45309; }
.chip-u { background: #FFE4E4; color: #DC2626; }

.fab {
  position: absolute;
  bottom: 64px;
  right: 14px;
  width: 40px;
  height: 40px;
  border-radius: 13px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 300;
  color: white;
  cursor: pointer;
  box-shadow: 0 4px 14px rgba(0,0,0,0.2);
  transition: transform 0.15s;
  z-index: 10;
  line-height: 1;
}
.fab:hover { transform: scale(1.08); }

.bnav {
  height: 58px;
  background: white;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-around;
  padding: 0 4px;
  flex-shrink: 0;
  z-index: 20;
}
.ni {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  cursor: pointer;
  padding: 4px 10px;
  border-radius: 10px;
  transition: all 0.15s;
}
.ni-icon { font-size: 17px; line-height: 1; }
.ni-lbl { font-size: 8.5px; font-weight: 800; color: var(--sub); letter-spacing: 0.3px; }
.ni.on .ni-lbl { color: var(--text); }
.ni-dot { width: 4px; height: 3px; border-radius: 2px; background: currentColor; opacity: 0; }
.ni.on .ni-dot { opacity: 1; }

/* THREAD HEADER */
.th-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 0 14px 8px;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border);
}
.th-title { font-size: 13px; font-weight: 800; color: var(--text); letter-spacing: -0.2px; }
.th-sub   { font-size: 10px; font-weight: 500; color: var(--sub); }

.icon-btn {
  width: 28px;
  height: 28px;
  border-radius: 9px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.15s;
  background: var(--bg);
  border: 1px solid var(--border);
}
.icon-btn:hover { background: #ECEAE7; }
.icon-btn.hi {
  background: var(--group);
  color: white;
  border: none;
  font-size: 18px;
  font-weight: 300;
}

/* MESSAGES */
.msg-list {
  flex: 1;
  overflow-y: auto;
  padding: 10px 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  scrollbar-width: none;
}
.msg-list::-webkit-scrollbar { display: none; }

.mr { display: flex; gap: 7px; align-items: flex-end; }
.mr.me { flex-direction: row-reverse; }
.m-av {
  width: 24px; height: 24px;
  border-radius: 8px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  font-size: 9px; font-weight: 800; color: white;
}
.bub {
  max-width: 176px;
  padding: 7px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  line-height: 1.4;
}
.bt { background: white; color: var(--text); border-bottom-left-radius: 4px; box-shadow: 0 1px 4px rgba(0,0,0,0.07); }
.bm { background: var(--chat); color: white; border-bottom-right-radius: 4px; }
.bm-g { background: var(--group); }
.m-nm { font-size: 8.5px; font-weight: 700; color: var(--sub); margin-bottom: 2px; }

.compose {
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  border-top: 1px solid var(--border);
  background: white;
  flex-shrink: 0;
}
.c-inp {
  flex: 1; height: 32px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 0 10px;
  font-family: 'Raleway', sans-serif;
  font-size: 11px; font-weight: 500; color: var(--text);
  outline: none;
}
.c-snd {
  width: 30px; height: 30px;
  border-radius: 9px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; font-size: 13px;
  transition: transform 0.12s;
  color: white;
}
.c-snd:hover { transform: scale(1.1); }

/* PARTICIPANTS STRIP */
.pax {
  display: flex;
  gap: 4px;
  padding: 4px 14px 8px;
  align-items: center;
  flex-shrink: 0;
}
.px-av {
  width: 28px; height: 28px;
  border-radius: 9px;
  display: flex; align-items: center; justify-content: center;
  font-size: 10px; font-weight: 800; color: white;
  border: 2px solid white;
}
.px-add {
  width: 28px; height: 28px;
  border-radius: 9px;
  background: var(--bg);
  border: 1.5px dashed #D4D4D8;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; color: var(--sub);
  cursor: pointer;
  transition: all 0.15s;
  font-weight: 300; line-height: 1;
}
.px-add:hover { border-color: var(--group); color: var(--group); background: rgba(255,159,28,0.08); }

/* NAME BANNER */
.name-banner {
  margin: 0 10px 5px;
  background: linear-gradient(135deg, rgba(255,159,28,0.1), rgba(255,90,95,0.06));
  border: 1.5px dashed rgba(255,159,28,0.5);
  border-radius: 11px;
  padding: 8px 11px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: background 0.15s;
  flex-shrink: 0;
}
.name-banner:hover { background: linear-gradient(135deg, rgba(255,159,28,0.18), rgba(255,90,95,0.1)); }
.nb-text { font-size: 11px; font-weight: 800; color: var(--group); line-height: 1.3; }

/* LANE ITEMS */
.lane-row {
  background: white;
  border-radius: var(--r);
  padding: 10px 12px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  flex-shrink: 0;
  cursor: pointer;
  transition: transform 0.12s;
}
.lane-row:hover { transform: translateY(-1px); }
.lt { display: flex; align-items: center; gap: 10px; }
.l-icon {
  width: 36px; height: 36px;
  border-radius: 11px;
  display: flex; align-items: center; justify-content: center;
  font-size: 17px; flex-shrink: 0;
}
.l-name { font-size: 12px; font-weight: 800; color: var(--text); }
.l-org  { font-size: 10px; font-weight: 500; color: var(--sub); margin-top: 1px; }
.auto-bar {
  margin-top: 7px;
  background: rgba(46,196,182,0.08);
  border: 1px solid rgba(46,196,182,0.25);
  border-radius: 8px;
  padding: 5px 9px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  font-weight: 600;
  color: #1FACA6;
}
.pulse {
  width: 6px; height: 6px;
  border-radius: 3px;
  background: var(--lane);
  flex-shrink: 0;
  animation: pa 2s infinite;
}
@keyframes pa { 0%,100%{opacity:1} 50%{opacity:0.35} }

/* INSPO */
.i-chips {
  display: flex; gap: 5px;
  padding: 2px 10px 8px;
  overflow-x: auto; scrollbar-width: none;
  flex-shrink: 0;
}
.i-chips::-webkit-scrollbar { display: none; }
.i-chip {
  background: rgba(155,114,207,0.12);
  border: 1.5px solid rgba(155,114,207,0.25);
  color: #7C3AED;
  font-size: 10px; font-weight: 800;
  border-radius: 20px; padding: 3px 10px;
  white-space: nowrap; cursor: pointer;
  transition: all 0.15s;
}
.i-chip.on { background: var(--inspo); border-color: var(--inspo); color: white; }
.i-card {
  background: white; border-radius: var(--r);
  overflow: hidden; box-shadow: var(--shadow);
  border: 1px solid var(--border); flex-shrink: 0; cursor: pointer;
}
.i-img { height: 78px; display: flex; align-items: center; justify-content: center; font-size: 32px; }
.i-body { padding: 7px 11px 10px; }
.i-src  { font-size: 9px; font-weight: 800; color: var(--inspo); text-transform: uppercase; letter-spacing: 0.5px; }
.i-ttl  { font-size: 11px; font-weight: 800; color: var(--text); line-height: 1.35; margin-top: 2px; }
.i-met  { font-size: 9px; font-weight: 600; color: var(--sub); margin-top: 4px; }
.i-mini-row { display: flex; gap: 5px; flex-shrink: 0; }
.i-mini { flex:1; background:white; border-radius:var(--r); overflow:hidden; box-shadow:var(--shadow); border:1px solid var(--border); cursor:pointer; }
.i-mini-img { height:54px; display:flex; align-items:center; justify-content:center; font-size:24px; }
.i-mini-body { padding: 5px 8px 8px; }

/* MODALS */
.overlay {
  position: absolute; inset: 0;
  border-radius: 36px;
  display: none;
  z-index: 200;
}
.overlay.show { display: flex; flex-direction: column; justify-content: flex-end; animation: slideUp 0.25s cubic-bezier(.4,0,.2,1); }
.ov-bg { position: absolute; inset: 0; background: rgba(0,0,0,0.4); border-radius: 36px; }
.sheet {
  position: relative;
  background: white;
  border-radius: 20px 20px 36px 36px;
  padding: 14px 14px 18px;
  z-index: 1;
}
.handle {
  width: 32px; height: 3px;
  background: #D4D4D8; border-radius: 2px;
  margin: 0 auto 12px;
}
.s-title { font-size: 14px; font-weight: 900; color: var(--text); letter-spacing: -0.3px; margin-bottom: 3px; }
.s-sub   { font-size: 11px; font-weight: 500; color: var(--sub); margin-bottom: 12px; line-height: 1.4; }

.name-inp {
  width: 100%; height: 40px;
  background: var(--bg);
  border: 2px solid var(--border);
  border-radius: 11px;
  padding: 0 12px;
  font-family: 'Raleway', sans-serif;
  font-size: 13px; font-weight: 700; color: var(--text);
  outline: none;
  transition: border-color 0.15s;
  margin-bottom: 10px;
}
.name-inp:focus { border-color: var(--group); }

.btn {
  width: 100%; height: 38px;
  border-radius: 11px; border: none;
  font-family: 'Raleway', sans-serif;
  font-size: 13px; font-weight: 800;
  cursor: pointer;
  transition: transform 0.12s;
}
.btn:hover { transform: scale(1.01); }
.btn:active { transform: scale(0.98); }
.btn-p  { background: var(--group); color: white; }
.btn-s  { background: var(--bg); color: var(--sub); margin-top: 6px; }

.emoji-row {
  display: flex; gap: 5px;
  margin-bottom: 10px; flex-wrap: wrap;
}
.e-opt {
  width: 32px; height: 32px;
  border-radius: 9px; background: var(--bg);
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; cursor: pointer;
  border: 2px solid transparent;
  transition: transform 0.12s, border-color 0.12s;
}
.e-opt:hover { transform: scale(1.15); }
.e-opt.sel   { border-color: var(--group); background: rgba(255,159,28,0.1); }

.mem-list { display: flex; flex-direction: column; gap: 5px; margin-bottom: 10px; }
.mem-row {
  display: flex; align-items: center; gap: 10px;
  padding: 7px 10px; border-radius: 11px;
  background: var(--bg); cursor: pointer;
  border: 2px solid transparent;
  transition: border-color 0.15s, background 0.15s;
}
.mem-row.sel { border-color: var(--group); background: rgba(255,159,28,0.08); }
.mem-name  { font-size: 12px; font-weight: 700; color: var(--text); }
.mem-email { font-size: 10px; font-weight: 500; color: var(--sub); }
.mem-chk {
  margin-left: auto;
  width: 20px; height: 20px;
  border-radius: 6px; border: 2px solid #D4D4D8;
  display: flex; align-items: center; justify-content: center;
  font-size: 11px; color: white;
  transition: all 0.15s;
}
.mem-row.sel .mem-chk { background: var(--group); border-color: var(--group); }

.toast {
  position: absolute;
  top: 56px; left: 14px; right: 14px;
  background: #1A1A1A; color: white;
  border-radius: 12px; padding: 10px 14px;
  font-size: 11px; font-weight: 700;
  z-index: 300;
  display: none;
  align-items: center; gap: 8px;
}
.toast.show { display: flex; animation: slideUp 0.22s; }

.sec { padding: 4px 10px 2px; font-size: 9px; font-weight: 800; color: var(--sub); text-transform: uppercase; letter-spacing: 1px; flex-shrink: 0; }

@keyframes popIn {
  0% { transform: scale(0) rotate(-10deg); opacity: 0; }
  70% { transform: scale(1.15) rotate(3deg); }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}
.pop-in { animation: popIn 0.35s cubic-bezier(.4,0,.2,1) forwards; }

.app-title { text-align: center; }
.app-title h1 {
  font-family: 'Raleway', sans-serif;
  font-size: 34px; font-weight: 900; letter-spacing: -1px;
  background: linear-gradient(135deg, #FF5A5F 0%, #FF9F1C 40%, #2EC4B6 70%, #9B72CF 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}
.app-title p { font-size: 12px; font-weight: 600; color: #888; margin-top: 4px; }

.hint {
  font-size: 11px; font-weight: 700; color: #AAA;
  text-align: center; max-width: 280px; line-height: 1.5;
}
.hint span { color: var(--group); }
</style>
</head>
<body>

<div class="app-title">
  <h1>‚úâ Eddie</h1>
  <p>Interactive prototype ¬∑ Chats ¬∑ Groups ¬∑ Lanes ¬∑ Inspiration</p>
</div>

<div class="phone-shell">
  <div class="phone-screen" id="app">
    <div class="di"></div>

    <div class="toast" id="toast">
      <span id="t-icon">‚úÖ</span><span id="t-msg">Done!</span>
    </div>

    <div class="sbar">
      <span>9:41</span>
      <span style="display:flex;gap:5px;align-items:center;">‚óè‚óè‚óè üîã</span>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHATS LIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view active" id="v-chats">
      <div class="pg-header">
        <div class="pg-title">üí¨ Chats</div>
        <div class="pg-sub">12 unread messages</div>
      </div>
      <div class="toggle-row">
        <button class="tgl on"  onclick="setToggle(this)">All</button>
        <button class="tgl"     onclick="setToggle(this)">1:1</button>
        <button class="tgl"     onclick="setToggle(this)">2+</button>
      </div>
      <div class="scroll">
        <div class="sec">1:1</div>
        <div class="row" onclick="toast('üí¨','1:1 chats with Mia')">
          <div class="av av-b">MK</div>
          <div class="row-info"><div class="row-name">Mia Kaplan</div><div class="row-prev">Let me know what you think!</div></div>
          <div class="row-right"><div class="row-time">Now</div><div class="bdg">3</div></div>
        </div>
        <div class="row" onclick="toast('üí¨','Chat with Tom')">
          <div class="av av-g">TL</div>
          <div class="row-info"><div class="row-name">Tom Larsen</div><div class="row-prev">Re: Q3 report feedback</div></div>
          <div class="row-right"><div class="row-time">10:12</div><div class="bdg">1</div></div>
        </div>
        <div class="row" onclick="toast('üí¨','Chat with Sara')">
          <div class="av av-p">SR</div>
          <div class="row-info"><div class="row-name">Sara R√∂st</div><div class="row-prev">See you tomorrow at 9 ‚úåÔ∏è</div></div>
          <div class="row-right"><div class="row-time">Yest.</div></div>
        </div>
        <div class="sec">2+</div>
        <div class="row highlight" onclick="showView('v-chat-product')">
          <div class="av-grid">
            <div class="agc" style="background:#4A90E2;">A</div>
            <div class="agc" style="background:#FF9F1C;">J</div>
            <div class="agc" style="background:#43B89C;">M</div>
            <div class="agc" style="background:#9B72CF;">T</div>
          </div>
          <div class="row-info"><div class="row-name">Anna, Jonas, Mia, Tom</div><div class="row-prev">Jonas: Shall we align tomorrow?</div></div>
          <div class="row-right"><div class="row-time">11:40</div><div class="bdg">4</div></div>
        </div>
        <div class="row" onclick="toast('üèÑ','Surf group thread')">
          <div class="av-grid">
            <div class="agc" style="background:#2EC4B6;">üèÑ</div>
            <div class="agc" style="background:#4DD0E1;">K</div>
            <div class="agc" style="background:#00B4D8;">P</div>
            <div class="agc" style="background:#0096C7;">L</div>
          </div>
          <div class="row-info"><div class="row-name">Kris, Poul, Lars</div><div class="row-prev">Dawn patrol tmrw? üåä</div></div>
          <div class="row-right"><div class="row-time">Mon</div><div class="bdg">2</div></div>
        </div>
      </div>
      <div class="fab" style="background:var(--chat);">Ôºã</div>
      <div class="bnav" id="bn-chats"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHAT THREAD (product group, unnamed) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-chat-product">
      <div class="pg-header">
        <div class="back-btn" onclick="goBack('v-chats')">‚Äπ Chats</div>
        <div class="th-row" style="padding:0 0 8px;border:none;">
          <div class="av-grid" style="width:34px;height:34px;border-radius:10px;">
            <div class="agc" style="background:#4A90E2;font-size:7px;">A</div>
            <div class="agc" style="background:#FF9F1C;font-size:7px;">J</div>
            <div class="agc" style="background:#43B89C;font-size:7px;">M</div>
            <div class="agc" style="background:#9B72CF;font-size:7px;">T</div>
          </div>
          <div>
            <div class="th-title">Anna, Jonas, Mia, Tom</div>
            <div class="th-sub">4 participants ¬∑ unnamed</div>
          </div>
          <div style="margin-left:auto;">
            <div class="icon-btn" onclick="openAddMember('chat')">Ôºã</div>
          </div>
        </div>
      </div>

      <!-- GIVE IT A NAME BANNER -->
      <div class="name-banner" onclick="openNameGroup()">
        <span style="font-size:17px;">üë•</span>
        <div>
          <div class="nb-text">Give this group a name!</div>
          <div style="font-size:9px;font-weight:600;color:#aaa;margin-top:1px;">Tap to turn this thread into a named Group</div>
        </div>
        <span style="margin-left:auto;font-size:13px;color:var(--group);">‚Ä∫</span>
      </div>

      <div class="pax" id="chat-pax">
        <div class="px-av av-b">AK</div>
        <div class="px-av av-o" style="margin-left:-8px;">JB</div>
        <div class="px-av av-g" style="margin-left:-8px;">MK</div>
        <div class="px-av av-p" style="margin-left:-8px;">TH</div>
        <div class="px-add" onclick="openAddMember('chat')" style="margin-left:2px;">Ôºã</div>
      </div>

      <div class="msg-list">
        <div class="mr"><div class="m-av av-b">AK</div><div><div class="m-nm">Anna</div><div class="bub bt">Hey team! Can we sync on the Eddie roadmap?</div></div></div>
        <div class="mr"><div class="m-av av-o">JB</div><div><div class="m-nm">Jonas</div><div class="bub bt">I have ideas around Lanes too üè∑</div></div></div>
        <div class="mr"><div class="m-av av-g">MK</div><div><div class="m-nm">Mia</div><div class="bub bt">Shall we align tomorrow afternoon?</div></div></div>
        <div class="mr me"><div><div class="bub bm">Works! Let's say 2pm üôå</div></div></div>
        <div class="mr"><div class="m-av av-p">TH</div><div><div class="m-nm">Tom</div><div class="bub bt">+1, I'll prepare the deck</div></div></div>
      </div>
      <div class="compose">
        <input class="c-inp" placeholder="Message‚Ä¶">
        <div class="c-snd" style="background:var(--chat);">‚Üë</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GROUPS LIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-groups">
      <div class="pg-header">
        <div class="pg-title">üë• Groups</div>
        <div class="pg-sub">5 active groups</div>
      </div>
      <div class="scroll">
        <div class="row highlight-g" id="eddie-row" onclick="showView('v-group-eddie')">
          <div class="av-grid" id="eddie-av-grid">
            <div class="agc" style="background:#9B72CF;">A</div>
            <div class="agc" style="background:#C387E8;">J</div>
            <div class="agc" style="background:#7C3AED;">M</div>
            <div class="agc" id="eddie-grid-4" style="background:#6D28D9;">T</div>
          </div>
          <div class="row-info">
            <div class="row-name" id="eddie-g-name">Eddie Team üíú</div>
            <div class="row-prev" id="eddie-g-prev">Anna: Sprint review at 3pm</div>
          </div>
          <div class="row-right">
            <div class="row-time">11:30</div>
            <div class="bdg bdg-g">2</div>
          </div>
        </div>
        <div class="row" onclick="toast('üèÑ','Surf Buddies group')">
          <div class="av-grid">
            <div class="agc" style="background:#2EC4B6;">üèÑ</div>
            <div class="agc" style="background:#4DD0E1;">K</div>
            <div class="agc" style="background:#00B4D8;">P</div>
            <div class="agc" style="background:#0096C7;">L</div>
          </div>
          <div class="row-info"><div class="row-name">üèÑ Surf Buddies</div><div class="row-prev">Kris: Dawn patrol tomorrow?</div></div>
          <div class="row-right"><div class="row-time">9:00</div><div class="bdg bdg-g">5</div></div>
        </div>
        <div class="row" onclick="toast('üè†','Family group')">
          <div class="av-grid">
            <div class="agc" style="background:#FF5A5F;">M</div>
            <div class="agc" style="background:#FF8A65;">D</div>
            <div class="agc" style="background:#FFB74D;">S</div>
            <div class="agc" style="background:#FFC300;">L</div>
          </div>
          <div class="row-info"><div class="row-name">üè† Family</div><div class="row-prev">Mom: Dinner on Sunday?</div></div>
          <div class="row-right"><div class="row-time">Yest.</div></div>
        </div>
        <div class="row" onclick="toast('üìö','Book Club')">
          <div class="av-grid">
            <div class="agc" style="background:#43B89C;">üìö</div>
            <div class="agc" style="background:#2EC4B6;">R</div>
            <div class="agc" style="background:#1FACA6;">L</div>
            <div class="agc" style="background:#45B7D1;font-size:7px;">+3</div>
          </div>
          <div class="row-info"><div class="row-name">üìö Book Club</div><div class="row-prev">Which chapter are you on?</div></div>
          <div class="row-right"><div class="row-time">Mon</div></div>
        </div>
      </div>
      <div class="fab" style="background:var(--group);">Ôºã</div>
      <div class="bnav" id="bn-groups"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GROUP THREAD (Eddie Team) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-group-eddie">
      <div class="pg-header">
        <div class="back-btn" onclick="goBack('v-groups')">‚Äπ Groups</div>
        <div class="th-row" style="padding:0 0 8px;border:none;">
          <div class="av-grid" style="width:34px;height:34px;border-radius:10px;">
            <div class="agc" style="background:#9B72CF;font-size:7px;">A</div>
            <div class="agc" style="background:#C387E8;font-size:7px;">J</div>
            <div class="agc" style="background:#43B89C;font-size:7px;">M</div>
            <div class="agc" id="g4" style="background:#6D28D9;font-size:7px;">T</div>
          </div>
          <div>
            <div class="th-title" id="g-title">Eddie Team üíú</div>
            <div class="th-sub"  id="g-sub">4 members</div>
          </div>
          <div style="margin-left:auto;">
            <div class="icon-btn hi" onclick="openAddMember('group')" title="Add member">Ôºã</div>
          </div>
        </div>
      </div>

      <div class="pax" id="group-pax">
        <div class="px-av av-p">AK</div>
        <div class="px-av av-o" style="margin-left:-8px;">JB</div>
        <div class="px-av av-g" style="margin-left:-8px;">MK</div>
        <div class="px-av av-dk" id="th-pax" style="margin-left:-8px;">TH</div>
        <div class="px-add" id="g-pax-add" onclick="openAddMember('group')" style="margin-left:2px;">Ôºã</div>
      </div>

      <div class="msg-list" id="g-msgs">
        <div class="mr"><div class="m-av av-p">AK</div><div><div class="m-nm">Anna</div><div class="bub bt">Sprint review is at 3pm today üóì</div></div></div>
        <div class="mr"><div class="m-av av-o">JB</div><div><div class="m-nm">Jonas</div><div class="bub bt">I'll have the demo ready üëç</div></div></div>
        <div class="mr me"><div><div class="bub bm bm-g">Perfect, adding the slides now</div></div></div>
        <div class="mr"><div class="m-av av-g">MK</div><div><div class="m-nm">Mia</div><div class="bub bt">Should we invite Sara to join?</div></div></div>
        <div class="mr me"><div><div class="bub bm bm-g">Good idea! Tap + up top üëÜ</div></div></div>
      </div>
      <div class="compose">
        <input class="c-inp" placeholder="Message group‚Ä¶">
        <div class="c-snd" style="background:var(--group);">‚Üë</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LANES LIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-lanes">
      <div class="pg-header">
        <div class="pg-title">üè∑ Lanes</div>
        <div class="pg-sub">3 actions required</div>
      </div>
      <div class="scroll" style="gap:6px;">
        <div class="lane-row" onclick="showView('v-lane-bcn')">
          <div class="lt">
            <div class="l-icon" style="background:linear-gradient(135deg,#4FACFE,#00F2FE);">‚úàÔ∏è</div>
            <div><div class="l-name">Trip to Barcelona</div><div class="l-org">Vueling, Booking.com +3</div></div>
            <div style="margin-left:auto;display:flex;flex-direction:column;align-items:flex-end;gap:3px;">
              <div class="bdg bdg-l">7</div><div class="chip chip-u">Action needed</div>
            </div>
          </div>
          <div class="auto-bar"><div class="pulse"></div>Auto-reply on ¬∑ Hotel pending</div>
        </div>
        <div class="lane-row" onclick="toast('üõç','Zalando lane')">
          <div class="lt">
            <div class="l-icon" style="background:linear-gradient(135deg,#FF9F1C,#FFB74D);">üõç</div>
            <div><div class="l-name">Zalando</div><div class="l-org">Orders, returns</div></div>
            <div style="margin-left:auto;display:flex;flex-direction:column;align-items:flex-end;gap:3px;">
              <div class="bdg bdg-l">3</div><div class="chip chip-w">Track return</div>
            </div>
          </div>
          <div class="auto-bar"><div class="pulse"></div>Return #4821 awaiting label</div>
        </div>
        <div class="lane-row" onclick="toast('üè†','Summer House lane')">
          <div class="lt">
            <div class="l-icon" style="background:linear-gradient(135deg,#43B89C,#56D9BE);">üè†</div>
            <div><div class="l-name">Summer House</div><div class="l-org">Landlord, utilities +2</div></div>
            <div style="margin-left:auto;"><div class="bdg bdg-l">2</div></div>
          </div>
        </div>
        <div class="lane-row" onclick="toast('üè•','Healthcare lane')">
          <div class="lt">
            <div class="l-icon" style="background:linear-gradient(135deg,#9B72CF,#C387E8);">üè•</div>
            <div><div class="l-name">Healthcare</div><div class="l-org">Dr. Hansen, lab results</div></div>
            <div style="margin-left:auto;display:flex;flex-direction:column;align-items:flex-end;gap:3px;">
              <div class="bdg bdg-l">1</div><div class="chip chip-u">Review results</div>
            </div>
          </div>
        </div>
        <div class="lane-row" onclick="toast('üíº','Work/HR lane')">
          <div class="lt">
            <div class="l-icon" style="background:linear-gradient(135deg,#FF5A5F,#FF8A65);">üíº</div>
            <div><div class="l-name">Work / HR</div><div class="l-org">Payslips, contracts</div></div>
            <div style="margin-left:auto;"><div class="bdg bdg-m">0</div></div>
          </div>
        </div>
      </div>
      <div class="fab" style="background:var(--lane);">Ôºã</div>
      <div class="bnav" id="bn-lanes"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LANE DETAIL (Barcelona) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-lane-bcn">
      <div class="pg-header">
        <div class="back-btn" onclick="goBack('v-lanes')">‚Äπ Lanes</div>
        <div class="th-row" style="padding:0 0 8px;border:none;">
          <div class="l-icon" style="background:linear-gradient(135deg,#4FACFE,#00F2FE);width:34px;height:34px;border-radius:10px;font-size:15px;">‚úàÔ∏è</div>
          <div>
            <div class="th-title">Trip to Barcelona</div>
            <div class="th-sub">7 unread ¬∑ Auto-reply active</div>
          </div>
        </div>
      </div>
      <div class="msg-list">
        <div style="background:rgba(46,196,182,0.08);border:1px solid rgba(46,196,182,0.2);border-radius:10px;padding:7px 10px;margin-bottom:2px;">
          <div style="font-size:10px;font-weight:800;color:#1FACA6;margin-bottom:2px;">ü§ñ Auto-reply sent</div>
          <div style="font-size:10px;font-weight:500;color:var(--sub);">Booking.com confirmation sent automatically</div>
        </div>
        <div class="mr">
          <div class="m-av" style="background:linear-gradient(135deg,#4FACFE,#00F2FE);font-size:9px;">‚úàÔ∏è</div>
          <div><div class="m-nm">Vueling Airlines</div><div class="bub bt">Your flight VY1234 is confirmed for Mar 14.</div></div>
        </div>
        <div class="mr">
          <div class="m-av" style="background:linear-gradient(135deg,#FF9F1C,#FFB74D);font-size:9px;">üè®</div>
          <div><div class="m-nm">Booking.com</div><div class="bub bt">Hotel Arts confirmed! Free cancel until Mar 10.</div></div>
        </div>
        <div class="mr">
          <div class="m-av" style="background:linear-gradient(135deg,#FF5A5F,#FF8A65);font-size:9px;">üöó</div>
          <div><div class="m-nm">Rentalcars.com</div><div class="bub bt" style="border:1.5px solid rgba(220,38,38,0.3);">‚ö†Ô∏è Action needed: upload your driver's licence.</div></div>
        </div>
        <div style="background:rgba(255,159,28,0.1);border:1px solid rgba(255,159,28,0.3);border-radius:10px;padding:8px 10px;">
          <div style="font-size:10px;font-weight:800;color:var(--group);margin-bottom:4px;">üí° Suggested reply</div>
          <div style="font-size:10px;font-weight:500;color:var(--text);margin-bottom:6px;">"I'll upload my licence within 24 hours."</div>
          <div style="display:flex;gap:5px;">
            <div onclick="toast('‚úÖ','Reply sent to Rentalcars.com!')" style="flex:1;height:28px;background:var(--lane);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:800;color:white;cursor:pointer;">Send ‚úì</div>
            <div onclick="toast('‚úèÔ∏è','Editing reply‚Ä¶')" style="flex:1;height:28px;background:var(--bg);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:800;color:var(--sub);cursor:pointer;">Edit</div>
          </div>
        </div>
      </div>
      <div class="compose">
        <input class="c-inp" placeholder="Reply to lane‚Ä¶">
        <div class="c-snd" style="background:var(--lane);">‚Üë</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INSPIRATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="view" id="v-inspo">
      <div class="pg-header">
        <div class="pg-title">‚ú® Inspo</div>
        <div class="pg-sub">Curated for you today</div>
      </div>
      <div class="i-chips">
        <div class="i-chip on" onclick="setChip(this)">All</div>
        <div class="i-chip" onclick="setChip(this)">üèÑ Surf</div>
        <div class="i-chip" onclick="setChip(this)">ü§ñ Tech</div>
        <div class="i-chip" onclick="setChip(this)">‚úàÔ∏è Travel</div>
        <div class="i-chip" onclick="setChip(this)">üçú Food</div>
        <div class="i-chip" onclick="setChip(this)">üì∏ Photo</div>
      </div>
      <div class="scroll" style="gap:6px;">
        <div class="i-card" onclick="toast('üåä','Opening Surfer Mag article‚Ä¶')">
          <div class="i-img" style="background:linear-gradient(135deg,#4FACFE,#00F2FE);">üåä</div>
          <div class="i-body">
            <div class="i-src">Surfer Magazine</div>
            <div class="i-ttl">Best new surf spots in Portugal for 2025 ‚Äî A hidden gem guide</div>
            <div class="i-met">5 min read ¬∑ Now</div>
          </div>
        </div>
        <div class="i-mini-row">
          <div class="i-mini" onclick="toast('ü§ñ','Opening MIT Tech Review‚Ä¶')">
            <div class="i-mini-img" style="background:linear-gradient(135deg,#43E97B,#38F9D7);">ü§ñ</div>
            <div class="i-mini-body"><div class="i-src" style="font-size:8px;">MIT Tech Review</div><div class="i-ttl" style="font-size:10px;">AI agents in 2025</div></div>
          </div>
          <div class="i-mini" onclick="toast('üó∫','Opening Monocle‚Ä¶')">
            <div class="i-mini-img" style="background:linear-gradient(135deg,#F093FB,#F5576C);">üó∫</div>
            <div class="i-mini-body"><div class="i-src" style="font-size:8px;">Monocle</div><div class="i-ttl" style="font-size:10px;">Slow travel comeback</div></div>
          </div>
        </div>
        <div class="i-card" onclick="toast('üçú','Opening Bon App√©tit‚Ä¶')">
          <div class="i-img" style="background:linear-gradient(135deg,#FFB347,#FFD700);">üçú</div>
          <div class="i-body">
            <div class="i-src">Bon App√©tit</div>
            <div class="i-ttl">10 weeknight recipes to bookmark right now</div>
            <div class="i-met">3 min read ¬∑ Yesterday</div>
          </div>
        </div>
        <div class="i-mini-row">
          <div class="i-mini" onclick="toast('üéµ','Opening Pitchfork‚Ä¶')">
            <div class="i-mini-img" style="background:linear-gradient(135deg,#FF6B6B,#FF8E53);">üéµ</div>
            <div class="i-mini-body"><div class="i-src" style="font-size:8px;">Pitchfork</div><div class="i-ttl" style="font-size:10px;">Albums of the week</div></div>
          </div>
          <div class="i-mini" onclick="toast('üì∏','Opening Aperture‚Ä¶')">
            <div class="i-mini-img" style="background:linear-gradient(135deg,#667EEA,#764BA2);">üì∏</div>
            <div class="i-mini-body"><div class="i-src" style="font-size:8px;">Aperture</div><div class="i-ttl" style="font-size:10px;">Street photography tips</div></div>
          </div>
        </div>
      </div>
      <div class="fab" style="background:var(--inspo);font-size:14px;">‚öô</div>
      <div class="bnav" id="bn-inspo"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL: NAME GROUP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="overlay" id="m-name">
      <div class="ov-bg" onclick="closeModal('m-name')"></div>
      <div class="sheet">
        <div class="handle"></div>
        <div class="s-title">Name this Group üë•</div>
        <div class="s-sub">This thread has 4 people. Give it a name and it becomes a permanent Group in your Groups tab.</div>
        <div class="emoji-row" id="e-row">
          <div class="e-opt sel" onclick="pickEmoji(this)">üíú</div>
          <div class="e-opt" onclick="pickEmoji(this)">üöÄ</div>
          <div class="e-opt" onclick="pickEmoji(this)">üåä</div>
          <div class="e-opt" onclick="pickEmoji(this)">üî•</div>
          <div class="e-opt" onclick="pickEmoji(this)">üí°</div>
          <div class="e-opt" onclick="pickEmoji(this)">üéØ</div>
          <div class="e-opt" onclick="pickEmoji(this)">üèÑ</div>
          <div class="e-opt" onclick="pickEmoji(this)">‚ú®</div>
        </div>
        <input class="name-inp" id="g-inp" placeholder="e.g. Product Crew, Trip Squad‚Ä¶" value="Eddie Team">
        <button class="btn btn-p" onclick="saveGroup()">Save Group Name ‚Üí</button>
        <button class="btn btn-s" onclick="closeModal('m-name')">Cancel</button>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL: ADD MEMBER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="overlay" id="m-add">
      <div class="ov-bg" onclick="closeModal('m-add')"></div>
      <div class="sheet">
        <div class="handle"></div>
        <div class="s-title">Add Someone Ôºã</div>
        <div class="s-sub">Select who to invite to this conversation.</div>
        <div class="mem-list" id="mem-list">
          <div class="mem-row sel" onclick="toggleMem(this)" data-nm="Sara R√∂st" data-av="av-p" data-in="SR">
            <div class="av av-sm av-p">SR</div>
            <div><div class="mem-name">Sara R√∂st</div><div class="mem-email">sara@studio.io</div></div>
            <div class="mem-chk">‚úì</div>
          </div>
          <div class="mem-row" onclick="toggleMem(this)" data-nm="Nadia V." data-av="av-k" data-in="NV">
            <div class="av av-sm av-k">NV</div>
            <div><div class="mem-name">Nadia V.</div><div class="mem-email">nadia@design.co</div></div>
            <div class="mem-chk"></div>
          </div>
          <div class="mem-row" onclick="toggleMem(this)" data-nm="Erik B." data-av="av-t" data-in="EB">
            <div class="av av-sm av-t">EB</div>
            <div><div class="mem-name">Erik B.</div><div class="mem-email">erik@hello.com</div></div>
            <div class="mem-chk"></div>
          </div>
        </div>
        <button class="btn btn-p" onclick="confirmAdd()">Add to Conversation ‚Üí</button>
        <button class="btn btn-s" onclick="closeModal('m-add')">Cancel</button>
      </div>
    </div>

  </div>
</div>

<div class="hint" id="hint">
  üëÜ Tap the <span>highlighted thread</span> (Anna, Jonas, Mia, Tom) to start
</div>

<script>
let cur = 'v-chats';
let addCtx = 'chat';
let selEmoji = 'üíú';

const tabs = [
  { id:'v-chats',  icon:'üí¨', lbl:'Chats',  col:'var(--chat)'  },
  { id:'v-groups', icon:'üë•', lbl:'Groups', col:'var(--group)' },
  { id:'v-lanes',  icon:'üè∑', lbl:'Lanes',  col:'var(--lane)'  },
  { id:'v-inspo',  icon:'‚ú®', lbl:'Inspo',  col:'var(--inspo)' },
];
const mainV = ['v-chats','v-groups','v-lanes','v-inspo'];

function buildNavs() {
  [['chats',0],['groups',1],['lanes',2],['inspo',3]].forEach(([n,i]) => {
    const el = document.getElementById(`bn-${n}`);
    if (!el) return;
    el.innerHTML = tabs.map((t,j) => `
      <div class="ni${j===i?' on':''}" onclick="showView('${t.id}')" style="${j===i?'color:'+t.col:''}">
        <div class="ni-icon">${t.icon}</div>
        <div class="ni-lbl">${t.lbl}</div>
        <div class="ni-dot"></div>
      </div>`).join('');
  });
}

function showView(id, back=false) {
  if (id === cur) return;
  const old = document.getElementById(cur);
  const next = document.getElementById(id);
  if (!old || !next) return;
  old.classList.remove('active');
  next.style.animation = 'none';
  next.offsetHeight;
  next.style.animation = back
    ? 'slideBack 0.22s cubic-bezier(.4,0,.2,1)'
    : 'slideIn 0.22s cubic-bezier(.4,0,.2,1)';
  next.classList.add('active');
  cur = id;
  setHint(id);
}

function goBack(id) { showView(id, true); }

const hints = {
  'v-chats':        'Tap the <span>highlighted thread</span> (Anna, Jonas, Mia, Tom)',
  'v-chat-product': 'Tap the <span>orange banner</span> to name it as a Group ‚Äî or <span>Ôºã</span> to add someone',
  'v-groups':       'Tap <span>Eddie Team</span> to open the group thread',
  'v-group-eddie':  'Tap the <span>orange Ôºã button</span> (top right) to add a new member',
  'v-lanes':        'Tap <span>Trip to Barcelona</span> to see Lane detail + auto-replies',
  'v-lane-bcn':     'Tap <span>Send ‚úì</span> to confirm the suggested reply',
  'v-inspo':        'Tap the <span>topic chips</span> to filter your personalised feed',
};
function setHint(id) {
  document.getElementById('hint').innerHTML = 'üëÜ ' + (hints[id] || 'Explore Eddie');
}

function setToggle(el) {
  el.closest('.toggle-row').querySelectorAll('.tgl').forEach(b=>b.classList.remove('on'));
  el.classList.add('on');
}
function setChip(el) {
  el.closest('.i-chips').querySelectorAll('.i-chip').forEach(c=>c.classList.remove('on'));
  el.classList.add('on');
}

function openNameGroup() { document.getElementById('m-name').classList.add('show'); }
function openAddMember(ctx) { addCtx = ctx; document.getElementById('m-add').classList.add('show'); }
function closeModal(id) { document.getElementById(id).classList.remove('show'); }

function pickEmoji(el) {
  el.closest('.emoji-row').querySelectorAll('.e-opt').forEach(e=>e.classList.remove('sel'));
  el.classList.add('sel');
  selEmoji = el.textContent;
}

function saveGroup() {
  const val = document.getElementById('g-inp').value.trim() || 'Product Crew';
  const full = selEmoji + ' ' + val;
  closeModal('m-name');
  // Update groups list
  document.getElementById('eddie-g-name').textContent = full;
  document.getElementById('eddie-g-prev').textContent = 'Thread saved as a Group! üéâ';
  // Update thread header
  document.getElementById('g-title').textContent = full;
  toast('üéâ', `"${full}" created as a Group!`);
  setTimeout(()=>showView('v-groups'), 1600);
}

function toggleMem(row) {
  row.classList.toggle('sel');
  row.querySelector('.mem-chk').textContent = row.classList.contains('sel') ? '‚úì' : '';
}

function confirmAdd() {
  const sel = [...document.querySelectorAll('#mem-list .mem-row.sel')];
  if (!sel.length) { closeModal('m-add'); return; }
  const names = sel.map(r=>r.dataset.nm).join(', ');
  closeModal('m-add');

  const stripId = addCtx === 'group' ? 'group-pax' : 'chat-pax';
  const strip = document.getElementById(stripId);
  const addBtn = strip.querySelector('.px-add');

  sel.forEach(r => {
    const el = document.createElement('div');
    el.className = `px-av ${r.dataset.av} pop-in`;
    el.style.cssText = 'margin-left:-8px;opacity:0;';
    el.textContent = r.dataset.in;
    strip.insertBefore(el, addBtn);
    // Remove pop-in after to reset opacity cleanly
    setTimeout(()=>{ el.style.opacity='1'; el.classList.remove('pop-in'); }, 400);
  });

  if (addCtx === 'group') {
    const cur = parseInt(document.getElementById('g-sub').textContent) || 4;
    document.getElementById('g-sub').textContent = `${cur + sel.length} members`;
    const msgs = document.getElementById('g-msgs');
    const sys = document.createElement('div');
    sys.style.cssText = 'text-align:center;font-size:9.5px;font-weight:700;color:var(--sub);padding:4px 0;';
    sys.textContent = `You added ${names} to the group ‚úì`;
    msgs.appendChild(sys);
    msgs.scrollTop = msgs.scrollHeight;
  }
  toast('üéâ', `${names} added!`);
}

let toastTimer;
function toast(icon, msg) {
  clearTimeout(toastTimer);
  document.getElementById('t-icon').textContent = icon;
  document.getElementById('t-msg').textContent  = msg;
  const t = document.getElementById('toast');
  t.classList.add('show');
  toastTimer = setTimeout(()=>t.classList.remove('show'), 2600);
}

buildNavs();
setHint('v-chats');
</script>
</body>
</html>
