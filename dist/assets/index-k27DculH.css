:root{--bg-primary: #1a1a1a;--bg-secondary: #1f1f1f;--bg-tertiary: #2a2a2a;--bg-hover: #2f2f2f;--bg-selected: #3a3a3a;--bubble-sent: #3478f6;--bubble-sent-text: #ffffff;--bubble-received: #3a3a3c;--bubble-received-text: #ffffff;--text-primary: #ffffff;--text-secondary: #b3b3b3;--text-muted: #8e8e93;--text-accent: #3478f6;--border-color: #2c2c2e;--divider-color: #38383a;--unread-badge: #3478f6;--online-status: #34c759;--sidebar-width: 320px;--header-height: 64px;--input-height: 52px;--avatar-size: 48px;--avatar-size-small: 32px;--transition-fast: .15s ease;--transition-normal: .25s ease}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,SF Pro Text,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.4;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app{display:flex;height:100vh;overflow:hidden}.sidebar{width:var(--sidebar-width);min-width:var(--sidebar-width);background:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;height:var(--header-height);border-bottom:1px solid var(--border-color)}.sidebar-title{display:flex;flex-direction:column;gap:2px}.sidebar-title h1{font-size:20px;font-weight:600;color:var(--text-primary);letter-spacing:-.3px}.account-badge{font-size:12px;color:var(--text-muted);cursor:pointer;transition:color var(--transition-fast)}.account-badge:hover{color:var(--text-accent)}.new-message-btn{width:36px;height:36px;border-radius:50%;background:var(--bg-tertiary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background var(--transition-fast)}.new-message-btn:hover{background:var(--bg-hover)}.new-message-btn svg{width:20px;height:20px;color:var(--text-primary)}.chat-list{display:flex;flex-direction:column;flex:1;overflow:hidden}.chat-list-header{padding:0 16px;height:0;overflow:hidden}.chat-list-header h2{font-size:14px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}.search-container{padding:8px 12px 12px}.search-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;width:16px;height:16px;color:var(--text-muted);pointer-events:none}.search-input{width:100%;padding:10px 12px 10px 40px;background:var(--bg-tertiary);border:none;border-radius:10px;color:var(--text-primary);font-size:15px;outline:none;transition:background var(--transition-fast)}.search-input::placeholder{color:var(--text-muted)}.search-input:focus{background:var(--bg-hover)}.chat-list-content{flex:1;overflow-y:auto;overflow-x:hidden}.chat-list-loading,.chat-list-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;gap:12px;color:var(--text-muted);font-size:14px}.chat-item{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background var(--transition-fast)}.chat-item:hover{background:var(--bg-hover)}.chat-item.selected{background:var(--bg-selected)}.chat-item.unread .chat-name{font-weight:600}.chat-item.unread .chat-preview{color:var(--text-primary);font-weight:500}.chat-avatar{width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#fff;text-transform:uppercase}.chat-content{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.chat-header-row{display:flex;justify-content:space-between;align-items:center;gap:8px}.chat-name{font-size:16px;font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-time{font-size:13px;color:var(--text-muted);white-space:nowrap;flex-shrink:0}.chat-preview-row{display:flex;justify-content:space-between;align-items:center;gap:8px}.chat-preview{font-size:14px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.unread-badge{min-width:20px;height:20px;padding:0 6px;border-radius:10px;background:var(--unread-badge);color:#fff;font-size:12px;font-weight:600;display:flex;align-items:center;justify-content:center;flex-shrink:0}.main-panel{flex:1;display:flex;flex-direction:column;background:var(--bg-primary);overflow:hidden}.conversation-view{display:flex;flex-direction:column;height:100%}.conversation-view.conversation-empty{align-items:center;justify-content:center}.empty-state{text-align:center;padding:40px;max-width:300px}.empty-icon{width:80px;height:80px;margin:0 auto 24px;background:var(--bg-tertiary);border-radius:50%;display:flex;align-items:center;justify-content:center}.empty-icon svg{width:40px;height:40px;color:var(--text-muted)}.empty-state h3{font-size:20px;font-weight:600;color:var(--text-primary);margin-bottom:8px}.empty-state p{font-size:14px;color:var(--text-muted);line-height:1.5}.conversation-header{display:flex;align-items:center;gap:12px;padding:12px 16px;height:var(--header-height);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.back-button{display:none;width:36px;height:36px;border-radius:50%;background:transparent;border:none;cursor:pointer;align-items:center;justify-content:center;transition:background var(--transition-fast)}.back-button:hover{background:var(--bg-hover)}.back-button svg{width:20px;height:20px;color:var(--text-primary)}.header-avatar{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;color:#fff;text-transform:uppercase}.header-info{flex:1;min-width:0}.header-name{font-size:17px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.header-status{font-size:13px;color:var(--text-muted)}.header-actions{display:flex;gap:4px}.header-action-btn{width:36px;height:36px;border-radius:50%;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background var(--transition-fast)}.header-action-btn:hover{background:var(--bg-hover)}.header-action-btn svg{width:20px;height:20px;color:var(--text-secondary)}.conversation-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:4px}.messages-loading,.messages-error,.messages-empty{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;color:var(--text-muted);font-size:14px}.date-separator{display:flex;align-items:center;justify-content:center;padding:16px 0}.date-separator span{padding:6px 12px;background:var(--bg-tertiary);border-radius:16px;font-size:12px;font-weight:500;color:var(--text-muted)}.message-bubble-container{display:flex;gap:8px;max-width:75%;margin-bottom:4px}.message-bubble-container.incoming{align-self:flex-start}.message-bubble-container.outgoing{align-self:flex-end;flex-direction:row-reverse}.message-avatar{width:var(--avatar-size-small);height:var(--avatar-size-small);min-width:var(--avatar-size-small);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:#fff;text-transform:uppercase;align-self:flex-end}.message-bubble-wrapper{display:flex;flex-direction:column;gap:2px}.message-sender{font-size:12px;font-weight:500;color:var(--text-accent);padding-left:12px}.message-bubble{padding:10px 14px;border-radius:18px;max-width:100%;word-wrap:break-word;position:relative}.message-bubble.sent{background:var(--bubble-sent);color:var(--bubble-sent-text);border-bottom-right-radius:4px}.message-bubble.received{background:var(--bubble-received);color:var(--bubble-received-text);border-bottom-left-radius:4px}.message-subject{font-weight:600;font-size:14px;margin-bottom:4px;opacity:.9}.message-text{font-size:15px;line-height:1.4;white-space:pre-wrap}.message-time{display:flex;align-items:center;gap:4px;font-size:11px;opacity:.7;margin-top:4px;justify-content:flex-end}.message-status svg{width:14px;height:14px}.conversation-input{display:flex;align-items:center;gap:8px;padding:12px 16px;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.input-action-btn,.emoji-btn,.send-btn,.mic-btn{width:40px;height:40px;min-width:40px;border-radius:50%;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background var(--transition-fast)}.input-action-btn:hover,.emoji-btn:hover,.mic-btn:hover{background:var(--bg-hover)}.input-action-btn svg,.emoji-btn svg,.mic-btn svg{width:22px;height:22px;color:var(--text-muted)}.send-btn{background:var(--bubble-sent)}.send-btn:hover{background:#2968dc}.send-btn svg{width:20px;height:20px;color:#fff}.input-wrapper{flex:1;display:flex;align-items:center;position:relative}.message-input{width:100%;padding:10px 44px 10px 16px;background:var(--bg-tertiary);border:none;border-radius:24px;color:var(--text-primary);font-size:15px;outline:none;transition:background var(--transition-fast)}.message-input::placeholder{color:var(--text-muted)}.message-input:focus{background:var(--bg-hover)}.input-wrapper .emoji-btn{position:absolute;right:4px;width:32px;height:32px;min-width:32px}.input-wrapper .emoji-btn svg{width:18px;height:18px}.compose-modal-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.compose-modal{width:90%;max-width:600px;max-height:85vh;background:var(--bg-secondary);border-radius:16px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 20px 40px #0006}.compose-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-color)}.compose-header h2{font-size:18px;font-weight:600;color:var(--text-primary)}.close-btn{width:32px;height:32px;border-radius:50%;background:var(--bg-tertiary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--text-muted);transition:all var(--transition-fast)}.close-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.compose-form{flex:1;padding:20px;overflow-y:auto}.form-row{margin-bottom:16px}.form-row label{display:block;font-size:13px;font-weight:500;color:var(--text-muted);margin-bottom:6px}.form-row input,.form-row textarea{width:100%;padding:12px 14px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:10px;color:var(--text-primary);font-size:15px;outline:none;transition:border-color var(--transition-fast)}.form-row input:focus,.form-row textarea:focus{border-color:var(--text-accent)}.body-row textarea{min-height:200px;resize:vertical;font-family:inherit;line-height:1.5}.compose-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid var(--border-color)}.compose-footer button{padding:10px 20px;border-radius:10px;font-size:15px;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.cancel-btn{background:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-primary)}.cancel-btn:hover{background:var(--bg-hover)}.send-btn{background:var(--bubble-sent);border:none;color:#fff;border-radius:10px;width:auto;height:auto;min-width:auto}.send-btn:disabled{opacity:.5;cursor:not-allowed}.delete-btn{background:#ff453a26;border:1px solid rgba(255,69,58,.3);color:#ff453a}.delete-btn:hover{background:#ff453a40}.delete-btn:disabled{opacity:.5;cursor:not-allowed}.footer-spacer{flex:1}.delete-confirm-text{color:#ff453a;font-size:14px;font-weight:500}.account-config-modal{max-width:500px}.config-section{border:1px solid var(--border-color);border-radius:12px;padding:16px;margin-bottom:16px}.config-section legend{font-size:14px;font-weight:600;color:var(--text-primary);padding:0 8px}.form-row-inline{display:flex;gap:12px;align-items:flex-end}.form-row-inline .form-row{flex:1}.checkbox-row{display:flex;align-items:center}.checkbox-row label{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-primary);cursor:pointer}.checkbox-row input[type=checkbox]{width:18px;height:18px;cursor:pointer;accent-color:var(--bubble-sent)}.config-error-message{background:#ff453a26;border:1px solid rgba(255,69,58,.3);border-radius:10px;padding:12px 14px;margin-bottom:16px;color:#ff453a;font-size:14px}.error-banner{background:#ff453a26;border:1px solid rgba(255,69,58,.3);border-radius:10px;padding:12px 14px;margin:8px;color:#ff453a;font-size:13px;word-break:break-word}.loading-spinner{width:24px;height:24px;border:2px solid var(--bg-tertiary);border-top-color:var(--bubble-sent);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}@media(max-width:768px){.sidebar{position:absolute;left:0;top:0;bottom:0;z-index:100;width:100%;min-width:100%;transform:translate(0);transition:transform var(--transition-normal)}.sidebar.hidden{transform:translate(-100%)}.back-button{display:flex}.message-bubble-container{max-width:85%}}
